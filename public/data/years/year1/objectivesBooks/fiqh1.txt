// src/pages/Formation/years/year1/BooksModal.jsx
import React, { useState } from 'react';
import Modal from '@components/global/Modal/Modal';

// === Map globale des livres par clé ===
const booksMap = {
  fiqh: {
    id: 1,
    title: 'الفقه',
    author: '  لإمام بدر الدين بن جماعة الكناني: اسم المؤلف',
    price: '5 د.ت',
    library:
      '   دار الزيتونة للكتاب توفر كل الكتب والمواد المقررة للسنة الأولى من التعليم الزيتوني أسعار خاصة بطلبة العلم ودارسي المناهج الزيتونية مع خدمة التوصيل متوفرة لجميع ولايات الجمهورية ',

    bio: 'سيرة مؤلف كتاب "تذكرة السامع والمتكلم في أدب العالم والمتعلم" هو الإمام بدر الدين بن جماعة الكناني، واسمه الكامل هو الإمام العلامة بدر الدين محمد بن إبراهيم بن سعد الله بن جماعة الشافعي [1، 4]. اشتهر بكونه قاضياً ومفتياً ومحدثاً فقيهاً وأصولياً، وعُرف بعلمه الواسع وورعه وحسن سيرته.\nمعلومات إضافية عن المؤلف:\nالاسم: بدر الدين محمد بن إبراهيم بن سعد الله بن جماعة الكناني [1، 4].\nاللقب: يُعرف بابن جماعة.\nالمذهب: شافعي.\nالمهن: تولى القضاء في الشام ثم مصر، وكان مفتياً ومحدثاً وفقيهًا وأصولياً.\nتاريخ الوفاة: توفي سنة 733 هـ.\nأشهر مؤلفاته: كتابه "تذكرة السامع والمتكلم في أدب العالم والمتعلم" هو أحد أشهر كتبه، ويعد مرجعاً في مجال التعليم والإرشاد التربوي [1، 2].',

    objectives:
      'أهداف هذا المقرر:\n\nالباب الأول / في فضل العلم والعلماء وفضل تعليمه وتعلمه\n\nقال تعالى { يرفع الله الذين آمنوا منكم والذين أوتوا العلم درجات } (المجادلة:11)\n\nقال ابن عباس: العلماء فوق المؤمنين مئة درجة مابين الدرجتين مئة عام .\n\nقال رسول الله r ( من سلك طريقاً يطلب فيه علماً سلك به طريقاً من طرق الجنة وإن الملائكة لتضعُ أجنحتها لطالب العلم لرضى الله عنه ، وإن العالم ليستغفر له من في السماوات ومن في الأرض حتى الحيتان في جوف الماء ، وإن فضل العالم على العابد كفضل القمر ليلة البدر على سائر الكواكب ، وإن العلماء ورثة الأنبياء ، وإن الأنبياء ، وإن الأنبياء لم يورثوا ديناراً و لا درهماُ وإنما ورّثوا العلم ، فمن أخذه أخذ بحظ وافٍ ) .\n\nومن الآثار الواردة في فضل العلم قول علي t : كفى بالعلم شرفاً أن يدّعيه من لا يحسنه ، ويفرح به إذا نُسب إليه ، وكفى بالجهل ذماً أن يتبرأ منه من هو فيه .\n\nوجميع ما تقدم ذكره من فضيلة العلم والعلماء إنما هو في حق العلماء العاملين الأبرار المتقين الذين قصدوا به وجه الله الكريم لا من طلبه لسوء نية أو لأغراض دنيوية من جاه ومال . وكما جاء عن أبي هريرة t عن النبي r قال : ( إن أول الناس يُقضى عليه يوم القيامة – وذكر الثلاثة – وفيه رجل تعلم العلم وعلمه وقرأ القرآن فأُتي به فعرفه نعمه فعرفها ، قال : فما علمت فيها ؟ قال : تعلمت فيك العلم وعلمته وقرأت فيك القرآن ، قال : كذبت ، ولكن تعلمت ليقال : عالم ، وقرأت ليقال قارئ فقد قيل ، ثم أمر به فسحب على وجهه حتى ألقي في النار ) .\n\nالباب الثاني / في أدب العالم في نفسه ومراعاة طالبه ودرسه\n\nالفصل الأول / في آدابه في نفسه .\n\n1- ما على العالم من دوام مراقبة الله :\n\nويكون بدوام مراقبة الله تعالى في السر والعلن والمحافظة على خوفه في جميع حركاته وسكناته وأقواله وأفعاله فإنه أمين على ما أودع من العلوم وما منح من الحواس والفهم .\n\n2- صيانة العلم :\n\nأن يصون العلم كما صانه علماء السلف ويقوم له بما جعله الله تعالى له من العزة والشرف.\n\n3- التخلق بالزهد :\n\nأن يتخلق بالزهد في الدنيا بقدر الإمكان الذي لا يضر بنفسه أو بعياله ويكون باعتدال من القناعة لأنه أعلم الناس بخسة الدنيا وفتنتها وسرعة زوالها .\n\n4- تنزيه العلم عن المطامع :\n\nأن ينزه علمه عن جعله سلماً يتوصل به إلى الأغراض الدنيوية من جاه أو مال أو شهرة .\n\n5- التنزه عن دنى المكاسب واجتناب مواضع التهم :\n\nأن يتنزه عن دنى المكاسب ورذيلها ويتجنب مواضع التهم وإن بعدت ولا يفعل شيء أو يقول شيء يهز من صورته وسمعته ويتجنب الشبهات .\n\n6- المحافظة على شعائر الإسلام :\n\nوذلك بالصلاة في المساجد مع الجماعة وإفشاء السلام والأمر بالمعروف والنهي عن المنكر والصبر على الأذى ويسعى للخير .\n\n7- المحافظة على المندوبات الشرعية القولية والفعلية منها :\n\nفيلازم تلاوة القرآن الكريم والتفكير والتدبر بمعانيه ويذكر الله تعالى بالقلب واللسان وما ورد من الدعوات والأذكار والنوافل والصيام والحج وبكثرة الصلاة على النبي محمد صلى الله عليه وسلم .\n\n8- التحلي بمكارم الأخلاق :\n\nمعاملة الناس بمكارم الأخلاق من طلاقة الوجه وإفشاء السلام وإطعام الطعام وكظم الغيظ وكف الأذى عن الناس وبمعنى أخر يقتدي بهدي النبي صلى الله عليه وسلم فلا يوجد أفضل من الإقتداء به صلوات الله وسلامه عليه .\n\n9- التنزه عن الأخلاق الرذيلة :\n\nأن يطهر باطنه وظاهره من الأخلاق الرذيلة ويعمره بالأخلاق المرضية ، ويكثر من الأخلاق المرضية مثل دوام التوبة والإخلاص واليقين والتقوى والرضا......\n\n10- المواظبة على الأشغال :\n\nأن يحافظ على وقته بالعلم وذلك بالجد والاجتهاد .\n\n11- الاستفادة من الأصاغر :\n\nلا يستنكف أن يستفيد ما لا يعلمه ممن هو دونه علماً أو منصباً أو نسباً أو سناً بل يكون حريصاً على الفائدة حيث كانت فالحكمة ضالة المؤمن .\n\n12- الاشتغال بالتصنيف :\n\nأن يشتغل بالتصنيف والجمع والتأليف مع تمام الفضيلة وكمال الأهلية ، ويعتني بما يعم نفعه وتكثر الحاجة إليه .\n\n...',

    image: '/images/books/fiqh.jpg',
    pdf: '/pdf/books/fiqh.pdf',
  },
  aqida: {
    id: 2,
    title: 'العقيدة',
   author: '  الشيخ إبراهيم بن أحمد المارغني الزيتوني المالكي الأشعري هو أحد علماء الأشاعرة، وتوفي عام 1349هـ أو 1394هـ : اسم المؤلف',
    price: '7,200  د.ت',
    library:
      '   دار الزيتونة للكتاب توفر كل الكتب والمواد المقررة للسنة الأولى من التعليم الزيتوني أسعار خاصة بطلبة العلم ودارسي المناهج الزيتونية مع خدمة التوصيل متوفرة لجميع ولايات الجمهورية ',

    bio: 'مؤلف كتاب :لمحة عن الشيخ إبراهيم المارغني: 
اللقب: يُعرف أيضاً بالعَلاَمَة المُقرِئ.
المذهب: مالكي أشعري.
الوفاة: تختلف المصادر في تحديد سنة وفاته، حيث تذكر بعض المصادر 1349هـ، بينما تذكر أخرى 1394هـ.
النشاط العلمي: اشتهر بشرح المنظومات في العقيدة، مثل منظومة العقائد الشرنوبية.',

    objectives:
      'أهداف هذا المقرر:يتسم كتاب "الشذرات الذهبية" بأنه شرح لمنظومة في العقيدة الأشعرية، ويهدف إلى توضيح مبادئ العقيدة الإسلامية..',

    image: '/images/books/aqida.jpg',
    pdf: '/pdf/books/aqida.pdf',
  },
  tajwid: {
    id: 3,
    title: 'التجويد',
  author: '  لإمام سليمان بن حسين بن محمد الجمزوري: اسم المؤلف',
    price: ' 5,200  د.ت',
    library:
      '   دار الزيتونة للكتاب توفر كل الكتب والمواد المقررة للسنة الأولى من التعليم الزيتوني أسعار خاصة بطلبة العلم ودارسي المناهج الزيتونية مع خدمة التوصيل متوفرة لجميع ولايات الجمهورية ',

    bio: ' سيرة مؤلف كتاب "تفاصيل سيرته:
الاسم: سليمان بن حسين بن محمد الجمزوري. 
النسبة: يُنسب إلى جمزور، وهي قرية قريبة من طنطا في مصر. 
مكان وتاريخ الولادة: ولد في طنطا في ربيع الأول من سنة 1160 هجرية تقريبًا. 
المذهب: كان شافعي المذهب. 
التلقب: لُقِّب بالأفندي من قبل شيخه سيدي مجاهد الأحمدي، وهي كلمة تُستخدم للتعظيم والإجلال. 
الشيوخ والتتلمذ: درس على يد العديد من المشايخ في طنطا، منهم سيدي مجاهد الأحمدي، وكان متواضعًا ولين الجانب في تعامله مع الآخرين. 
تاريخ الوفاة: لم تُعرف سنة وفاته بالتحديد، ولكن عُرف أنه كان حيًا سنة 1208 هجرية. 
أهم مؤلفاته: 
"تحفة الأطفال في تجويد القرآن": وهي منظومة مشهورة في علم التجويد.
"فتح الإقفال": وهو شرحه على منظومة "تحفة الأطفال".
"الفتح الرحماني": وهو شرحه على "كنز المعاني في القراءات السبع".
"كنز المعاني في القراءات السبع": وهي منظومة أخرى له في القراءات.
"جامع المسرة في شواهد الشاطبية والدرة" .
منظومة في رواية الإمام ورش .
"الدر المنظوم في عذر المأموم": وشرحها "الطراز المرقوم".".',

    objectives:
      'أهداف هذا المقرر:متن منظوم في علم تجويد القرآن، يُدرس في المستوى الابتدائي في طريقة التعليم بالمتون قبل المقدمة الجزرية، اختصت بأحكام النون الساكنة والتنوين والمدود فقط، بأسلوب مبسط للطلبة المبتدئين في علم التجويد.',

    image: '/images/books/tajwid.jpg',
    pdf: '/pdf/books/tajwid.pdf',
  },
  nahw: {
    id: 4,
    title: 'النحو',
    author: '  العالم المصري محمد الحفني ناصف: اسم المؤلف',
    price: '110 د.ت',
    library:
      '   دار الزيتونة للكتاب توفر كل الكتب والمواد المقررة للسنة الأولى من التعليم الزيتوني أسعار خاصة بطلبة العلم ودارسي المناهج الزيتونية مع خدمة التوصيل متوفرة لجميع ولايات الجمهورية ',

    bio: 'سيرة مؤلف كتاب  : تاريخ الميلاد: ولد في 16 ديسمبر 1855م.
مكان الميلاد: بركة الحج في محافظة القليوبية بمصر.
النشأة: توفيت والدته وهو لا يزال جنيناً، فنشأ في رعاية خاله وجدته.
التعليم: تلقى تعليمه النظامي في مصر، وبرع فيه.
الرحلات الأوروبية: سافر إلى أوروبا عدة مرات، وكانت له علاقات ودية مع المستشرقين.
عضويته في الأكاديمية: اختارته أكاديمية اللغة الفرنسية عضوًا بها، مما يعكس مكانته العلمية.
المؤلفات: له مؤلفات عديدة في اللغة العربية، منها كتاب "نحو الدروس النحوية" الشهير.
تاريخ الوفاة: توفي عام 1919م، وترك بصمة واضحة في التعليم والنحو العربي.
أهميته: يُعد من أعلام القليوبية، وكان له دور كبير في تحديث التعليم ونشر المعرفة باللغة العربية، خصوصًا في النحو.',

    objectives:
      'أهداف هذا المقرر:\n\nالباب الأول / في فضل العلم والعلماء وفضل تعليمه وتعلمه\n\nقال تعالى { يرفع الله الذين آمنوا منكم والذين أوتوا العلم درجات } (المجادلة:11)\n\nقال ابن عباس: العلماء فوق المؤمنين مئة درجة مابين الدرجتين مئة عام .\n\nقال رسول الله r ( من سلك طريقاً يطلب فيه علماً سلك به طريقاً من طرق الجنة وإن الملائكة لتضعُ أجنحتها لطالب العلم لرضى الله عنه ، وإن العالم ليستغفر له من في السماوات ومن في الأرض حتى الحيتان في جوف الماء ، وإن فضل العالم على العابد كفضل القمر ليلة البدر على سائر الكواكب ، وإن العلماء ورثة الأنبياء ، وإن الأنبياء ، وإن الأنبياء لم يورثوا ديناراً و لا درهماُ وإنما ورّثوا العلم ، فمن أخذه أخذ بحظ وافٍ ) .\n\nومن الآثار الواردة في فضل العلم قول علي t : كفى بالعلم شرفاً أن يدّعيه من لا يحسنه ، ويفرح به إذا نُسب إليه ، وكفى بالجهل ذماً أن يتبرأ منه من هو فيه .\n\nوجميع ما تقدم ذكره من فضيلة العلم والعلماء إنما هو في حق العلماء العاملين الأبرار المتقين الذين قصدوا به وجه الله الكريم لا من طلبه لسوء نية أو لأغراض دنيوية من جاه ومال . وكما جاء عن أبي هريرة t عن النبي r قال : ( إن أول الناس يُقضى عليه يوم القيامة – وذكر الثلاثة – وفيه رجل تعلم العلم وعلمه وقرأ القرآن فأُتي به فعرفه نعمه فعرفها ، قال : فما علمت فيها ؟ قال : تعلمت فيك العلم وعلمته وقرأت فيك القرآن ، قال : كذبت ، ولكن تعلمت ليقال : عالم ، وقرأت ليقال قارئ فقد قيل ، ثم أمر به فسحب على وجهه حتى ألقي في النار ) .\n\nالباب الثاني / في أدب العالم في نفسه ومراعاة طالبه ودرسه\n\nالفصل الأول / في آدابه في نفسه .\n\n1- ما على العالم من دوام مراقبة الله :\n\nويكون بدوام مراقبة الله تعالى في السر والعلن والمحافظة على خوفه في جميع حركاته وسكناته وأقواله وأفعاله فإنه أمين على ما أودع من العلوم وما منح من الحواس والفهم .\n\n2- صيانة العلم :\n\nأن يصون العلم كما صانه علماء السلف ويقوم له بما جعله الله تعالى له من العزة والشرف.\n\n3- التخلق بالزهد :\n\nأن يتخلق بالزهد في الدنيا بقدر الإمكان الذي لا يضر بنفسه أو بعياله ويكون باعتدال من القناعة لأنه أعلم الناس بخسة الدنيا وفتنتها وسرعة زوالها .\n\n4- تنزيه العلم عن المطامع :\n\nأن ينزه علمه عن جعله سلماً يتوصل به إلى الأغراض الدنيوية من جاه أو مال أو شهرة .\n\n5- التنزه عن دنى المكاسب واجتناب مواضع التهم :\n\nأن يتنزه عن دنى المكاسب ورذيلها ويتجنب مواضع التهم وإن بعدت ولا يفعل شيء أو يقول شيء يهز من صورته وسمعته ويتجنب الشبهات .\n\n6- المحافظة على شعائر الإسلام :\n\nوذلك بالصلاة في المساجد مع الجماعة وإفشاء السلام والأمر بالمعروف والنهي عن المنكر والصبر على الأذى ويسعى للخير .\n\n7- المحافظة على المندوبات الشرعية القولية والفعلية منها :\n\nفيلازم تلاوة القرآن الكريم والتفكير والتدبر بمعانيه ويذكر الله تعالى بالقلب واللسان وما ورد من الدعوات والأذكار والنوافل والصيام والحج وبكثرة الصلاة على النبي محمد صلى الله عليه وسلم .\n\n8- التحلي بمكارم الأخلاق :\n\nمعاملة الناس بمكارم الأخلاق من طلاقة الوجه وإفشاء السلام وإطعام الطعام وكظم الغيظ وكف الأذى عن الناس وبمعنى أخر يقتدي بهدي النبي صلى الله عليه وسلم فلا يوجد أفضل من الإقتداء به صلوات الله وسلامه عليه .\n\n9- التنزه عن الأخلاق الرذيلة :\n\nأن يطهر باطنه وظاهره من الأخلاق الرذيلة ويعمره بالأخلاق المرضية ، ويكثر من الأخلاق المرضية مثل دوام التوبة والإخلاص واليقين والتقوى والرضا......\n\n10- المواظبة على الأشغال :\n\nأن يحافظ على وقته بالعلم وذلك بالجد والاجتهاد .\n\n11- الاستفادة من الأصاغر :\n\nلا يستنكف أن يستفيد ما لا يعلمه ممن هو دونه علماً أو منصباً أو نسباً أو سناً بل يكون حريصاً على الفائدة حيث كانت فالحكمة ضالة المؤمن .\n\n12- الاشتغال بالتصنيف :\n\nأن يشتغل بالتصنيف والجمع والتأليف مع تمام الفضيلة وكمال الأهلية ، ويعتني بما يعم نفعه وتكثر الحاجة إليه .\n\n...',

    image: '/images/books/nahw.jpg',
    pdf: '/pdf/books/nahw.pdf',
  },
  sirah: {
    id: 5,
    title: 'السيرة',
     author: '  لإمام بدر الدين بن جماعة الكناني: اسم المؤلف',
    price: '18,700  د.ت',
    library:
      '   دار الزيتونة للكتاب توفر كل الكتب والمواد المقررة للسنة الأولى من التعليم الزيتوني أسعار خاصة بطلبة العلم ودارسي المناهج الزيتونية مع خدمة التوصيل متوفرة لجميع ولايات الجمهورية ',

    bio: 'مؤلف كتاب "تذكرة السامع والمتكلم في أدب العالم والمتعلم" هو الإمام بدر الدين بن جماعة الكناني، واسمه الكامل هو الإمام العلامة بدر الدين محمد بن إبراهيم بن سعد الله بن جماعة الشافعي [1، 4]. اشتهر بكونه قاضياً ومفتياً ومحدثاً فقيهاً وأصولياً، وعُرف بعلمه الواسع وورعه وحسن سيرته.\nمعلومات إضافية عن المؤلف:\nالاسم: بدر الدين محمد بن إبراهيم بن سعد الله بن جماعة الكناني [1، 4].\nاللقب: يُعرف بابن جماعة.\nالمذهب: شافعي.\nالمهن: تولى القضاء في الشام ثم مصر، وكان مفتياً ومحدثاً وفقيهًا وأصولياً.\nتاريخ الوفاة: توفي سنة 733 هـ.\nأشهر مؤلفاته: كتابه "تذكرة السامع والمتكلم في أدب العالم والمتعلم" هو أحد أشهر كتبه، ويعد مرجعاً في مجال التعليم والإرشاد التربوي [1، 2].',

    objectives:
      'أهداف هذا المقرر:\n\nالباب الأول / في فضل العلم والعلماء وفضل تعليمه وتعلمه\n\nقال تعالى { يرفع الله الذين آمنوا منكم والذين أوتوا العلم درجات } (المجادلة:11)\n\nقال ابن عباس: العلماء فوق المؤمنين مئة درجة مابين الدرجتين مئة عام .\n\nقال رسول الله r ( من سلك طريقاً يطلب فيه علماً سلك به طريقاً من طرق الجنة وإن الملائكة لتضعُ أجنحتها لطالب العلم لرضى الله عنه ، وإن العالم ليستغفر له من في السماوات ومن في الأرض حتى الحيتان في جوف الماء ، وإن فضل العالم على العابد كفضل القمر ليلة البدر على سائر الكواكب ، وإن العلماء ورثة الأنبياء ، وإن الأنبياء ، وإن الأنبياء لم يورثوا ديناراً و لا درهماُ وإنما ورّثوا العلم ، فمن أخذه أخذ بحظ وافٍ ) .\n\nومن الآثار الواردة في فضل العلم قول علي t : كفى بالعلم شرفاً أن يدّعيه من لا يحسنه ، ويفرح به إذا نُسب إليه ، وكفى بالجهل ذماً أن يتبرأ منه من هو فيه .\n\nوجميع ما تقدم ذكره من فضيلة العلم والعلماء إنما هو في حق العلماء العاملين الأبرار المتقين الذين قصدوا به وجه الله الكريم لا من طلبه لسوء نية أو لأغراض دنيوية من جاه ومال . وكما جاء عن أبي هريرة t عن النبي r قال : ( إن أول الناس يُقضى عليه يوم القيامة – وذكر الثلاثة – وفيه رجل تعلم العلم وعلمه وقرأ القرآن فأُتي به فعرفه نعمه فعرفها ، قال : فما علمت فيها ؟ قال : تعلمت فيك العلم وعلمته وقرأت فيك القرآن ، قال : كذبت ، ولكن تعلمت ليقال : عالم ، وقرأت ليقال قارئ فقد قيل ، ثم أمر به فسحب على وجهه حتى ألقي في النار ) .\n\nالباب الثاني / في أدب العالم في نفسه ومراعاة طالبه ودرسه\n\nالفصل الأول / في آدابه في نفسه .\n\n1- ما على العالم من دوام مراقبة الله :\n\nويكون بدوام مراقبة الله تعالى في السر والعلن والمحافظة على خوفه في جميع حركاته وسكناته وأقواله وأفعاله فإنه أمين على ما أودع من العلوم وما منح من الحواس والفهم .\n\n2- صيانة العلم :\n\nأن يصون العلم كما صانه علماء السلف ويقوم له بما جعله الله تعالى له من العزة والشرف.\n\n3- التخلق بالزهد :\n\nأن يتخلق بالزهد في الدنيا بقدر الإمكان الذي لا يضر بنفسه أو بعياله ويكون باعتدال من القناعة لأنه أعلم الناس بخسة الدنيا وفتنتها وسرعة زوالها .\n\n4- تنزيه العلم عن المطامع :\n\nأن ينزه علمه عن جعله سلماً يتوصل به إلى الأغراض الدنيوية من جاه أو مال أو شهرة .\n\n5- التنزه عن دنى المكاسب واجتناب مواضع التهم :\n\nأن يتنزه عن دنى المكاسب ورذيلها ويتجنب مواضع التهم وإن بعدت ولا يفعل شيء أو يقول شيء يهز من صورته وسمعته ويتجنب الشبهات .\n\n6- المحافظة على شعائر الإسلام :\n\nوذلك بالصلاة في المساجد مع الجماعة وإفشاء السلام والأمر بالمعروف والنهي عن المنكر والصبر على الأذى ويسعى للخير .\n\n7- المحافظة على المندوبات الشرعية القولية والفعلية منها :\n\nفيلازم تلاوة القرآن الكريم والتفكير والتدبر بمعانيه ويذكر الله تعالى بالقلب واللسان وما ورد من الدعوات والأذكار والنوافل والصيام والحج وبكثرة الصلاة على النبي محمد صلى الله عليه وسلم .\n\n8- التحلي بمكارم الأخلاق :\n\nمعاملة الناس بمكارم الأخلاق من طلاقة الوجه وإفشاء السلام وإطعام الطعام وكظم الغيظ وكف الأذى عن الناس وبمعنى أخر يقتدي بهدي النبي صلى الله عليه وسلم فلا يوجد أفضل من الإقتداء به صلوات الله وسلامه عليه .\n\n9- التنزه عن الأخلاق الرذيلة :\n\nأن يطهر باطنه وظاهره من الأخلاق الرذيلة ويعمره بالأخلاق المرضية ، ويكثر من الأخلاق المرضية مثل دوام التوبة والإخلاص واليقين والتقوى والرضا......\n\n10- المواظبة على الأشغال :\n\nأن يحافظ على وقته بالعلم وذلك بالجد والاجتهاد .\n\n11- الاستفادة من الأصاغر :\n\nلا يستنكف أن يستفيد ما لا يعلمه ممن هو دونه علماً أو منصباً أو نسباً أو سناً بل يكون حريصاً على الفائدة حيث كانت فالحكمة ضالة المؤمن .\n\n12- الاشتغال بالتصنيف :\n\nأن يشتغل بالتصنيف والجمع والتأليف مع تمام الفضيلة وكمال الأهلية ، ويعتني بما يعم نفعه وتكثر الحاجة إليه .\n\n...',

    image: '/images/books/sirah.jpg',
    pdf: '/pdf/books/sirah.pdf',
  },
  hadith: {
    id: 6,
    title: 'الحديث',
  author: '  لإمام بدر الدين بن جماعة الكناني: اسم المؤلف',
    price: '9  د.ت',
    library:
      '   دار الزيتونة للكتاب توفر كل الكتب والمواد المقررة للسنة الأولى من التعليم الزيتوني أسعار خاصة بطلبة العلم ودارسي المناهج الزيتونية مع خدمة التوصيل متوفرة لجميع ولايات الجمهورية ',

    bio: 'مؤلف كتاب "تذكرة السامع والمتكلم في أدب العالم والمتعلم" هو الإمام بدر الدين بن جماعة الكناني، واسمه الكامل هو الإمام العلامة بدر الدين محمد بن إبراهيم بن سعد الله بن جماعة الشافعي [1، 4]. اشتهر بكونه قاضياً ومفتياً ومحدثاً فقيهاً وأصولياً، وعُرف بعلمه الواسع وورعه وحسن سيرته.\nمعلومات إضافية عن المؤلف:\nالاسم: بدر الدين محمد بن إبراهيم بن سعد الله بن جماعة الكناني [1، 4].\nاللقب: يُعرف بابن جماعة.\nالمذهب: شافعي.\nالمهن: تولى القضاء في الشام ثم مصر، وكان مفتياً ومحدثاً وفقيهًا وأصولياً.\nتاريخ الوفاة: توفي سنة 733 هـ.\nأشهر مؤلفاته: كتابه "تذكرة السامع والمتكلم في أدب العالم والمتعلم" هو أحد أشهر كتبه، ويعد مرجعاً في مجال التعليم والإرشاد التربوي [1، 2].',

    objectives:
      'أهداف هذا المقرر:\n\nالباب الأول / في فضل العلم والعلماء وفضل تعليمه وتعلمه\n\nقال تعالى { يرفع الله الذين آمنوا منكم والذين أوتوا العلم درجات } (المجادلة:11)\n\nقال ابن عباس: العلماء فوق المؤمنين مئة درجة مابين الدرجتين مئة عام .\n\nقال رسول الله r ( من سلك طريقاً يطلب فيه علماً سلك به طريقاً من طرق الجنة وإن الملائكة لتضعُ أجنحتها لطالب العلم لرضى الله عنه ، وإن العالم ليستغفر له من في السماوات ومن في الأرض حتى الحيتان في جوف الماء ، وإن فضل العالم على العابد كفضل القمر ليلة البدر على سائر الكواكب ، وإن العلماء ورثة الأنبياء ، وإن الأنبياء ، وإن الأنبياء لم يورثوا ديناراً و لا درهماُ وإنما ورّثوا العلم ، فمن أخذه أخذ بحظ وافٍ ) .\n\nومن الآثار الواردة في فضل العلم قول علي t : كفى بالعلم شرفاً أن يدّعيه من لا يحسنه ، ويفرح به إذا نُسب إليه ، وكفى بالجهل ذماً أن يتبرأ منه من هو فيه .\n\nوجميع ما تقدم ذكره من فضيلة العلم والعلماء إنما هو في حق العلماء العاملين الأبرار المتقين الذين قصدوا به وجه الله الكريم لا من طلبه لسوء نية أو لأغراض دنيوية من جاه ومال . وكما جاء عن أبي هريرة t عن النبي r قال : ( إن أول الناس يُقضى عليه يوم القيامة – وذكر الثلاثة – وفيه رجل تعلم العلم وعلمه وقرأ القرآن فأُتي به فعرفه نعمه فعرفها ، قال : فما علمت فيها ؟ قال : تعلمت فيك العلم وعلمته وقرأت فيك القرآن ، قال : كذبت ، ولكن تعلمت ليقال : عالم ، وقرأت ليقال قارئ فقد قيل ، ثم أمر به فسحب على وجهه حتى ألقي في النار ) .\n\nالباب الثاني / في أدب العالم في نفسه ومراعاة طالبه ودرسه\n\nالفصل الأول / في آدابه في نفسه .\n\n1- ما على العالم من دوام مراقبة الله :\n\nويكون بدوام مراقبة الله تعالى في السر والعلن والمحافظة على خوفه في جميع حركاته وسكناته وأقواله وأفعاله فإنه أمين على ما أودع من العلوم وما منح من الحواس والفهم .\n\n2- صيانة العلم :\n\nأن يصون العلم كما صانه علماء السلف ويقوم له بما جعله الله تعالى له من العزة والشرف.\n\n3- التخلق بالزهد :\n\nأن يتخلق بالزهد في الدنيا بقدر الإمكان الذي لا يضر بنفسه أو بعياله ويكون باعتدال من القناعة لأنه أعلم الناس بخسة الدنيا وفتنتها وسرعة زوالها .\n\n4- تنزيه العلم عن المطامع :\n\nأن ينزه علمه عن جعله سلماً يتوصل به إلى الأغراض الدنيوية من جاه أو مال أو شهرة .\n\n5- التنزه عن دنى المكاسب واجتناب مواضع التهم :\n\nأن يتنزه عن دنى المكاسب ورذيلها ويتجنب مواضع التهم وإن بعدت ولا يفعل شيء أو يقول شيء يهز من صورته وسمعته ويتجنب الشبهات .\n\n6- المحافظة على شعائر الإسلام :\n\nوذلك بالصلاة في المساجد مع الجماعة وإفشاء السلام والأمر بالمعروف والنهي عن المنكر والصبر على الأذى ويسعى للخير .\n\n7- المحافظة على المندوبات الشرعية القولية والفعلية منها :\n\nفيلازم تلاوة القرآن الكريم والتفكير والتدبر بمعانيه ويذكر الله تعالى بالقلب واللسان وما ورد من الدعوات والأذكار والنوافل والصيام والحج وبكثرة الصلاة على النبي محمد صلى الله عليه وسلم .\n\n8- التحلي بمكارم الأخلاق :\n\nمعاملة الناس بمكارم الأخلاق من طلاقة الوجه وإفشاء السلام وإطعام الطعام وكظم الغيظ وكف الأذى عن الناس وبمعنى أخر يقتدي بهدي النبي صلى الله عليه وسلم فلا يوجد أفضل من الإقتداء به صلوات الله وسلامه عليه .\n\n9- التنزه عن الأخلاق الرذيلة :\n\nأن يطهر باطنه وظاهره من الأخلاق الرذيلة ويعمره بالأخلاق المرضية ، ويكثر من الأخلاق المرضية مثل دوام التوبة والإخلاص واليقين والتقوى والرضا......\n\n10- المواظبة على الأشغال :\n\nأن يحافظ على وقته بالعلم وذلك بالجد والاجتهاد .\n\n11- الاستفادة من الأصاغر :\n\nلا يستنكف أن يستفيد ما لا يعلمه ممن هو دونه علماً أو منصباً أو نسباً أو سناً بل يكون حريصاً على الفائدة حيث كانت فالحكمة ضالة المؤمن .\n\n12- الاشتغال بالتصنيف :\n\nأن يشتغل بالتصنيف والجمع والتأليف مع تمام الفضيلة وكمال الأهلية ، ويعتني بما يعم نفعه وتكثر الحاجة إليه .\n\n...',

    image: '/images/books/hadith.jpg',
    pdf: '/public/PDFs/year1/pdfStudyBooks/s1/hadith/bookshadiths1.pdf',
  },
  akhlaq: {
    id: 7,
    title: 'الأخلاق',
  author: '  لإمام بدر الدين بن جماعة الكناني: اسم المؤلف',
    price: '11,500 د.ت',
    library:
      '   دار الزيتونة للكتاب توفر كل الكتب والمواد المقررة للسنة الأولى من التعليم الزيتوني أسعار خاصة بطلبة العلم ودارسي المناهج الزيتونية مع خدمة التوصيل متوفرة لجميع ولايات الجمهورية ',

    bio: 'مؤلف كتاب "تذكرة السامع والمتكلم في أدب العالم والمتعلم" هو الإمام بدر الدين بن جماعة الكناني، واسمه الكامل هو الإمام العلامة بدر الدين محمد بن إبراهيم بن سعد الله بن جماعة الشافعي [1، 4]. اشتهر بكونه قاضياً ومفتياً ومحدثاً فقيهاً وأصولياً، وعُرف بعلمه الواسع وورعه وحسن سيرته.\nمعلومات إضافية عن المؤلف:\nالاسم: بدر الدين محمد بن إبراهيم بن سعد الله بن جماعة الكناني [1، 4].\nاللقب: يُعرف بابن جماعة.\nالمذهب: شافعي.\nالمهن: تولى القضاء في الشام ثم مصر، وكان مفتياً ومحدثاً وفقيهًا وأصولياً.\nتاريخ الوفاة: توفي سنة 733 هـ.\nأشهر مؤلفاته: كتابه "تذكرة السامع والمتكلم في أدب العالم والمتعلم" هو أحد أشهر كتبه، ويعد مرجعاً في مجال التعليم والإرشاد التربوي [1، 2].',

    objectives:
      'أهداف هذا المقرر:\n\nالباب الأول / في فضل العلم والعلماء وفضل تعليمه وتعلمه\n\nقال تعالى { يرفع الله الذين آمنوا منكم والذين أوتوا العلم درجات } (المجادلة:11)\n\nقال ابن عباس: العلماء فوق المؤمنين مئة درجة مابين الدرجتين مئة عام .\n\nقال رسول الله r ( من سلك طريقاً يطلب فيه علماً سلك به طريقاً من طرق الجنة وإن الملائكة لتضعُ أجنحتها لطالب العلم لرضى الله عنه ، وإن العالم ليستغفر له من في السماوات ومن في الأرض حتى الحيتان في جوف الماء ، وإن فضل العالم على العابد كفضل القمر ليلة البدر على سائر الكواكب ، وإن العلماء ورثة الأنبياء ، وإن الأنبياء ، وإن الأنبياء لم يورثوا ديناراً و لا درهماُ وإنما ورّثوا العلم ، فمن أخذه أخذ بحظ وافٍ ) .\n\nومن الآثار الواردة في فضل العلم قول علي t : كفى بالعلم شرفاً أن يدّعيه من لا يحسنه ، ويفرح به إذا نُسب إليه ، وكفى بالجهل ذماً أن يتبرأ منه من هو فيه .\n\nوجميع ما تقدم ذكره من فضيلة العلم والعلماء إنما هو في حق العلماء العاملين الأبرار المتقين الذين قصدوا به وجه الله الكريم لا من طلبه لسوء نية أو لأغراض دنيوية من جاه ومال . وكما جاء عن أبي هريرة t عن النبي r قال : ( إن أول الناس يُقضى عليه يوم القيامة – وذكر الثلاثة – وفيه رجل تعلم العلم وعلمه وقرأ القرآن فأُتي به فعرفه نعمه فعرفها ، قال : فما علمت فيها ؟ قال : تعلمت فيك العلم وعلمته وقرأت فيك القرآن ، قال : كذبت ، ولكن تعلمت ليقال : عالم ، وقرأت ليقال قارئ فقد قيل ، ثم أمر به فسحب على وجهه حتى ألقي في النار ) .\n\nالباب الثاني / في أدب العالم في نفسه ومراعاة طالبه ودرسه\n\nالفصل الأول / في آدابه في نفسه .\n\n1- ما على العالم من دوام مراقبة الله :\n\nويكون بدوام مراقبة الله تعالى في السر والعلن والمحافظة على خوفه في جميع حركاته وسكناته وأقواله وأفعاله فإنه أمين على ما أودع من العلوم وما منح من الحواس والفهم .\n\n2- صيانة العلم :\n\nأن يصون العلم كما صانه علماء السلف ويقوم له بما جعله الله تعالى له من العزة والشرف.\n\n3- التخلق بالزهد :\n\nأن يتخلق بالزهد في الدنيا بقدر الإمكان الذي لا يضر بنفسه أو بعياله ويكون باعتدال من القناعة لأنه أعلم الناس بخسة الدنيا وفتنتها وسرعة زوالها .\n\n4- تنزيه العلم عن المطامع :\n\nأن ينزه علمه عن جعله سلماً يتوصل به إلى الأغراض الدنيوية من جاه أو مال أو شهرة .\n\n5- التنزه عن دنى المكاسب واجتناب مواضع التهم :\n\nأن يتنزه عن دنى المكاسب ورذيلها ويتجنب مواضع التهم وإن بعدت ولا يفعل شيء أو يقول شيء يهز من صورته وسمعته ويتجنب الشبهات .\n\n6- المحافظة على شعائر الإسلام :\n\nوذلك بالصلاة في المساجد مع الجماعة وإفشاء السلام والأمر بالمعروف والنهي عن المنكر والصبر على الأذى ويسعى للخير .\n\n7- المحافظة على المندوبات الشرعية القولية والفعلية منها :\n\nفيلازم تلاوة القرآن الكريم والتفكير والتدبر بمعانيه ويذكر الله تعالى بالقلب واللسان وما ورد من الدعوات والأذكار والنوافل والصيام والحج وبكثرة الصلاة على النبي محمد صلى الله عليه وسلم .\n\n8- التحلي بمكارم الأخلاق :\n\nمعاملة الناس بمكارم الأخلاق من طلاقة الوجه وإفشاء السلام وإطعام الطعام وكظم الغيظ وكف الأذى عن الناس وبمعنى أخر يقتدي بهدي النبي صلى الله عليه وسلم فلا يوجد أفضل من الإقتداء به صلوات الله وسلامه عليه .\n\n9- التنزه عن الأخلاق الرذيلة :\n\nأن يطهر باطنه وظاهره من الأخلاق الرذيلة ويعمره بالأخلاق المرضية ، ويكثر من الأخلاق المرضية مثل دوام التوبة والإخلاص واليقين والتقوى والرضا......\n\n10- المواظبة على الأشغال :\n\nأن يحافظ على وقته بالعلم وذلك بالجد والاجتهاد .\n\n11- الاستفادة من الأصاغر :\n\nلا يستنكف أن يستفيد ما لا يعلمه ممن هو دونه علماً أو منصباً أو نسباً أو سناً بل يكون حريصاً على الفائدة حيث كانت فالحكمة ضالة المؤمن .\n\n12- الاشتغال بالتصنيف :\n\nأن يشتغل بالتصنيف والجمع والتأليف مع تمام الفضيلة وكمال الأهلية ، ويعتني بما يعم نفعه وتكثر الحاجة إليه .\n\n...',

    image: '/images/books/akhlaq.jpg',
    pdf: '/pdf/books/akhlaq.pdf',
  },
};
export default function BooksModal({ isOpen, onClose, subjectKey }) {
  const [selectedBook, setSelectedBook] = useState(null);
  const [showBio, setShowBio] = useState(false);
  const [showObjectives, setShowObjectives] = useState(false);

  const books = subjectKey ? [booksMap[subjectKey]] : Object.values(booksMap);

  const lineStyle = {
    display: 'inline-block',
    maxHeight: '1.2em', // hauteur d'une ligne
    overflow: 'hidden',
    verticalAlign: 'bottom',
    transition: 'max-height 0.3s ease',
  };

  const expandedStyle = {
    maxHeight: '500px', // assez grand pour tout le texte
  };

  return (
    <Modal
      isOpen={isOpen}
      onClose={() => {
        onClose();
        setSelectedBook(null);
        setShowBio(false);
        setShowObjectives(false);
      }}
      title="مقررات السنة الأولى"
      content={
        selectedBook ? (
          <div className="grid grid-cols-1 md:grid-cols-2 gap-6 p-2 md:p-6 relative">
            {/* Bouton رجوع en haut à droite */}
            <button
              onClick={() => setSelectedBook(null)}
              className="absolute top-2 right-2 bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded-lg shadow z-10"
            >
              🔙 رجوع
            </button>

            <div className="flex flex-col items-center justify-center">
              <img
                src={selectedBook.image || '/images/placeholder.png'}
                alt={selectedBook.title}
                className="w-72 h-auto shadow-lg rounded-lg"
              />
            </div>

            <div className="overflow-y-auto p-2 md:p-4 text-black">
              <h2 className="text-3xl font-extrabold mb-4 text-emerald-700 flex items-center justify-between">
                <span>{selectedBook.title}</span>
                {selectedBook.pdf && (
                  <a
                    href={selectedBook.pdf}
                    download
                    className="bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg shadow text-sm"
                  >
                    ⬇️ تحميل الكتاب PDF
                  </a>
                )}
              </h2>
              <p className="mb-1">
                <span className="font-bold">عنوان الكتاب:</span>{' '}
                {selectedBook.title}
              </p>
              <p className="whitespace-pre-line text-justify">
                <span className="font-bold">مؤلف الكتاب:</span>{' '}
                {selectedBook.author}
              </p>

              <p className="mb-4">
                <span className="font-bold">سعر الكتاب:</span>{' '}
                {selectedBook.price}
              </p>
              <p className="whitespace-pre-line text-justify">
                <span className="font-bold">مكتبة :</span>{' '}
                {selectedBook.library}
              </p>

              <h3 className="font-bold whitespace-pre-line text-justify">
                سيرة مؤلف الكتاب
              </h3>
              <div className="flex items-center gap-2">
                <p
                  className="whitespace-pre-line text-justify"
                  dir="rtl"
                  style={{ ...lineStyle, ...(showBio ? expandedStyle : {}) }}
                >
                  {selectedBook.bio}
                </p>

                <button
                  onClick={() => setShowBio(!showBio)}
                  className="bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-1 rounded-lg shadow text-sm whitespace-nowrap"
                >
                  {showBio ? 'اخفاء' : 'عرض المزيد'}
                </button>
              </div>

              <h3 className="font-bold whitespace-pre-line text-justify">
                أهداف المقرر
              </h3>
              <div className="flex items-center gap-2">
                <p
                  className="text-gray-800"
                  style={{
                    ...lineStyle,
                    ...(showObjectives ? expandedStyle : {}),
                  }}
                >
                  {selectedBook.objectives}
                </p>
                <button
                  onClick={() => setShowObjectives(!showObjectives)}
                  className="bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-1 rounded-lg shadow text-sm whitespace-nowrap"
                >
                  {showObjectives ? 'اخفاء' : 'عرض المزيد'}
                </button>
              </div>
            </div>
          </div>
        ) : (
          <div className="space-y-6">
            {!subjectKey && (
              <div className="relative rounded-2xl overflow-hidden">
                <img
                  src="/images/zitouna-bg.jpg"
                  alt=""
                  className="absolute inset-0 w-full h-full object-cover"
                />
                <div className="absolute inset-0 bg-black/40" />
                <div className="relative py-8 md:py-12 text-center px-4">
                  <h2 className="text-2xl md:text-4xl font-black text-white drop-shadow">
                    مقررات السنة الأولى للسنة الدراسية 2024-2025
                  </h2>
                </div>
              </div>
            )}

            <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 justify-items-center">
              {books.map((book) =>
                book ? (
                  <div
                    key={book.id}
                    onClick={() => setSelectedBook(book)}
                    className="relative cursor-pointer group w-40 rounded-xl overflow-hidden shadow-lg"
                  >
                    <img
                      src={book.image || '/images/placeholder.png'}
                      alt={book.title}
                      className="w-40 h-56 object-cover"
                    />
                    <div className="absolute inset-0 bg-gradient-to-t from-red-600 via-blue-600 to-transparent opacity-0 group-hover:opacity-90 transition duration-300 flex items-center justify-center">
                      <span className="text-white font-bold text-lg drop-shadow-lg">
                        📖 اضغط للمزيد
                      </span>
                    </div>
                    <p className="text-center p-2 font-semibold bg-white">
                      {book.title}
                    </p>
                  </div>
                ) : null
              )}
            </div>
          </div>
        )
      }
    />
  );
}
